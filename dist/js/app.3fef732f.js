(function(t){function e(e){for(var s,o,r=e[0],l=e[1],c=e[2],u=0,p=[];u<r.length;u++)o=r[u],n[o]&&p.push(n[o][0]),n[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},n={app:0},i=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"118e":function(t,e,a){"use strict";var s=a("62da"),n=a.n(s);n.a},"11ef":function(t,e,a){},"169b":function(t,e,a){"use strict";var s=a("e4bd"),n=a.n(s);n.a},2856:function(t,e,a){},"2d1b":function(t,e,a){},3268:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"monitor"},[a("div",{staticClass:"usage"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"circle-text"},[a("div",{staticClass:"name"},[t._v("处理器")]),a("i-circle",{attrs:{percent:t.cpuUsage,"stroke-color":t.cpuStrokeColor}},[a("span",{staticClass:"demo-Circle-inner",staticStyle:{"font-size":"24px"}},[t._v(t._s(t.cpuUsage)+"%")])]),a("div",{staticClass:"text"},[a("span",[t._v("处理器数量:")]),a("span",[t._v(t._s(t.cpuCount))])]),a("div",{staticClass:"text"},[a("span",[t._v("平台名称:")]),a("span",[t._v(t._s(t.platformName))])])],1)]),a("div",{staticClass:"progress"},[a("div",{staticClass:"circle-text"},[a("div",{staticClass:"name"},[t._v("磁盘")]),a("i-circle",{attrs:{percent:t.diskUsage,"stroke-color":t.diskStrokeColor}},[a("span",{staticClass:"demo-Circle-inner",staticStyle:{"font-size":"24px"}},[t._v(t._s(t.diskUsage)+"%")])]),a("div",{staticClass:"text"},[a("span",[t._v("全部:")]),a("span",[t._v(t._s(t.diskTotal)+"G")])]),a("div",{staticClass:"text"},[a("span",[t._v("剩余:")]),a("span",[t._v(t._s(t.diskFree)+"G")])])],1)]),a("div",{staticClass:"progress"},[a("div",{staticClass:"circle-text"},[a("div",{staticClass:"name"},[t._v("缓存")]),a("i-circle",{attrs:{percent:t.memoryUsage,"stroke-color":t.memoryStrokeColor}},[a("span",{staticClass:"demo-Circle-inner",staticStyle:{"font-size":"24px"}},[t._v(t._s(t.memoryUsage)+"%")])]),a("div",{staticClass:"text"},[a("span",[t._v("全部:")]),a("span",[t._v(t._s(t.memoryTotal)+"G")])]),a("div",{staticClass:"text"},[a("span",[t._v("剩余:")]),a("span",[t._v(t._s(t.memoryFree)+"G")])])],1)])]),a("div",{staticClass:"current-task"},[a("div",{staticClass:"header"},[t._v("当前任务")]),a("div",{staticClass:"task-body"},[a("ol",[a("li",[a("span",[t._v("名称:")]),a("div",[t._v(t._s(t.runningProteinName))])]),a("li",[a("span",[t._v("开始时间:")]),a("div",[t._v(t._s(t._f("dateFormatter")(t.startTime,"yyyy/MM/dd")))])]),a("li",[a("span",[t._v("预计完成时间:")]),a("div",[t._v(t._s(t._f("dateFormatter")(t.endTime,"yyyy/MM/dd hh:mm:ss")))])]),a("li",[a("span",[t._v("迭代次数:")]),a("div",[t._v(t._s(t.iterationNum))])]),a("li",[a("span",[t._v("预计进度:")]),a("div",[a("Progress",{staticStyle:{width:"250px"},attrs:{percent:t.finishedPercent,status:"active"}})],1)])])]),a("div",{staticClass:"log"},[a("header",[a("span",[t._v("日志分析")]),a("RadioGroup",{staticClass:"radio-group",on:{"on-change":t.logTypeHandler},model:{value:t.logType,callback:function(e){t.logType=e},expression:"logType"}},[a("Radio",{attrs:{label:"蛋白日志"}}),a("Radio",{attrs:{label:"系统日志"}})],1),t.folderName?a("Dropdown",{staticStyle:{"margin-left":"20px"},on:{"on-click":t.selectPageNumber}},[a("a",{attrs:{href:"javascript:void(0)"}},[t._v("\n            选择行数("+t._s(t.lineNum)+")\n            "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:100,selected:100===this.lineNum}},[t._v("100")]),a("DropdownItem",{attrs:{name:200,selected:200===this.lineNum}},[t._v("200")]),a("DropdownItem",{attrs:{name:400,selected:400===this.lineNum}},[t._v("400")]),a("DropdownItem",{attrs:{name:800,selected:800===this.lineNum}},[t._v("800")]),a("DropdownItem",{attrs:{name:1e3,selected:1e3===this.lineNum}},[t._v("1000")])],1)],1):t._e()],1),a("div",{staticClass:"log-body"},[a("ol",{staticClass:"log-ol"},[t.logs.length?t._l(t.logs,function(e,s){return a("li",{key:s},[t._v(t._s(e))])}):a("div",{staticClass:"no-content"},[t._v("no content")])],2)])])])])},n=[],i=(a("28a5"),a("7f7f"),a("cadf"),a("551c"),a("097d"),a("65b3")),o={name:"statusMonitor",data:function(){return{cpuUsage:0,memoryUsage:0,diskUsage:0,diskTotal:0,diskFree:0,memoryTotal:0,memoryFree:0,cpuCount:0,platformName:"",cpuStrokeColor:"red",diskStrokeColor:"red",memoryStrokeColor:"red",logs:"",runningProteinName:"",startTime:"",endTime:"",iterationNum:"",finishedPercent:0,folderName:"",logType:"蛋白日志",lineNum:100,url:"statusMonitor/readLog"}},created:function(){var t=this;this.folderName=this.$route.query.fileName,this.websocket=new i["a"](this.SOCKET_URL+":9090","statusMonitor"),this.websocket.addListener("init",function(e){t.cpuUsage=parseInt(100*e["cpu"]["usage"]),t.cpuCount=e["cpu"]["cpuNumber"],t.platformName=e["cpu"]["platformName"];var a=e["disk"];t.diskTotal=+a.total.toFixed(2),t.diskFree=+a.free.toFixed(2),t.diskUsage=parseInt(100*(1-t.diskFree/t.diskTotal));var s=e["memory"];t.memoryTotal=+s.total.toFixed(2),t.memoryFree=+s.free.toFixed(2),t.memoryUsage=parseInt(100*(1-t.memoryFree/t.memoryTotal)),t.cpuUsage>80?t.cpuStrokeColor="red":t.cpuStrokeColor="#007aff",t.diskUsage>80?t.diskStrokeColor="red":t.diskStrokeColor="#007aff",t.memoryUsage>80?t.memoryStrokeColor="red":t.memoryStrokeColor="#007aff"}),this.getLogs(this.url,this.lineNum),this.$http.get("statusMonitor/proteinStatus").then(function(e){e=e["data"],t.runningProteinName=e.name,t.finishedPercent=e.finishedPercent,t.endTime=e.predictFinishTime,t.iterationNum=e.iterationNum,t.startTime=e.startTime}),this.folderName||(this.websocket.addListener("currentTask",function(e){t.runningProteinName=e.name,t.finishedPercent=e.finishedPercent,t.endTime=e.predictFinishTime,t.iterationNum=e.iterationNum,t.startTime=e.startTime}),this.websocket.addListener("readLogs",function(e){e?"statusMonitor/readLog"===t.url?e["protein"]?t.logs=e["protein"].split("\n"):t.logs=[]:e["app"]?t.logs=e["app"].split("\n"):t.logs=[]:t.logs=[]}))},destroyed:function(){this.websocket&&(this.websocket.close(),this.websocket=null)},methods:{selectPageNumber:function(t){this.lineNum=t,this.getLogs(this.url,this.lineNum)},logTypeHandler:function(t){this.url="蛋白日志"===t?"statusMonitor/readLog":"statusMonitor/readAppLog",this.getLogs(this.url,this.lineNum)},getLogs:function(t,e){var a=this;this.$http.get(t,{params:{lineNum:e,folderName:this.folderName}}).then(function(t){t=t["data"],200===t["code"]?a.logs=t["data"].split("\n").reverse():a.logs=[]})}}},r=o,l=(a("aa50"),a("2877")),c=Object(l["a"])(r,s,n,!1,null,"287c4ef8",null);c.options.__file="statusMonitor.vue";e["default"]=c.exports},"4a12":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("2fdb"),a("3b2b"),a("a481"),a("cadf"),a("551c"),a("097d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("router-view"),a("div",{staticClass:"cover",class:{hidden:t.loading}},[a("Icon",{staticClass:"loading",attrs:{type:"ios-loading"}})],1)],1)},i=[],o=a("2f62"),r={name:"home",computed:Object(o["b"])(["loading"])},l=r,c=(a("9c27"),a("2877")),d=Object(c["a"])(l,n,i,!1,null,"2eca52cd",null);d.options.__file="home.vue";var u=d.exports,p=a("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("router-view")],1)},m=[],f={name:"home"},v=f,g=Object(c["a"])(v,h,m,!1,null,null,null);g.options.__file="taskManage.vue";var b=g.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"chart",staticClass:"chart"},[a("div",{staticClass:"line-chart-container"},[a("highcharts",{ref:"highcharts",attrs:{options:t.lineOptions}})],1),a("div",{staticClass:"scatter-chart-container"},[a("highcharts",{ref:"highcharts",attrs:{options:t.options}})],1)])},C=[],_=(a("ac6a"),a("4f7f"),a("1c4c"),a("28a5"),a("ea7f")),y=a.n(_),w=a("65b3"),x={chart:{zoomType:"x",type:"line"},title:{text:"RMSD & Energy 时间走势图"},credits:{enabled:!1},subtitle:{text:void 0===document.ontouchstart?"鼠标拖动可以进行缩放":"手势操作进行缩放"},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%d",week:"%m-%d",month:"%Y-%m",year:"%Y"}},tooltip:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%Y-%m-%d",week:"%m-%d",month:"%Y-%m",year:"%Y"}},yAxis:{title:{text:"Energy & RMSD"}},legend:{enabled:!1},plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,y.a.getOptions().colors[0]],[1,y.a.Color(y.a.getOptions().colors[0]).setOpacity(0).get("rgba")]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},series:[{type:"line",name:"Energy",data:[]},{type:"line",name:"RMSD",data:[]}]},F={chart:{type:"scatter",zoomType:"xy"},title:{text:"RMSD & Energy 散点图"},credits:{enabled:!1},xAxis:{title:{enabled:!0,text:"RMSD"},startOnTick:!0,endOnTick:!0,showLastLabel:!0},yAxis:{title:{text:"Energy"}},legend:{layout:"vertical",align:"left",verticalAlign:"top",x:100,y:70,floating:!0,backgroundColor:"#FFFFFF",borderWidth:1},plotOptions:{scatter:{marker:{radius:5,states:{hover:{enabled:!0,lineColor:"rgb(100,100,100)"}}},states:{hover:{marker:{enabled:!1}}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x}, {point.y}"}}},series:[{name:"energy",color:"rgba(223, 83, 83, .5)",data:[]}]},N={name:"HelloWorld",props:{msg:String},data:function(){return{options:F,lineOptions:x,data:"yaojun",drawDate:new Date,folderName:null}},beforeCreate:function(){this.drawDate=new Date},created:function(){var t=this;this.folderName=this.$route.query.fileName,this.$http.get("statistics/getData",{folderName:this.folderName}).then(function(e){if(200===e.status){e=e["data"];var a=e.data.split("\n"),s=a.map(function(t){var e=t.split(/\s+/g);return e[0]&&(e[0]=+(+e[0]).toFixed(1)),e[1]&&(e[1]=+(+e[1]).toFixed(1)),e}),n=s.map(function(t){return t.join(",")}),i=Array.from(new Set(n)).map(function(t){var e=t.split(",");return e[0]=+e[0],e[1]=+e[1],e});t.options["series"][0].data=i;var o=[],r=[],l=1;i.forEach(function(t){var e=[],a=[];e[0]=13701312e5+1e3*l,e[1]=t[1],a[0]=e[0],a[1]=t[0],o.push(e),r.push(a),l++}),t.lineOptions["series"][0].data=o,t.lineOptions["series"][1].data=r}}),this.websocket=new w["a"](this.SOCKET_URL+":9090","statistics"),this.websocket.addListener("init",function(e){200===e.code&&(e=e["data"],((new Date).getTime()-t.drawDate.getTime())/1e3/60>2&&(t.drawDate=new Date,t.draw(e)))})},methods:{draw:function(t){var e=t.split("\n"),a=e.map(function(t){var e=t.split(/\s+/g);return e[0]&&(e[0]=+(+e[0]).toFixed(1)),e[1]&&(e[1]=+(+e[1]).toFixed(1)),e}),s=a.map(function(t){return t.join(",")}),n=Array.from(new Set(s)).map(function(t){var e=t.split(",");return e[0]=+e[0],e[1]=+e[1],e});this.options["series"][0].data=n;var i=[],o=[],r=1;n.forEach(function(t){var e=[],a=[];e[0]=13701312e5+1e3*r,e[1]=t[1],a[0]=e[0],a[1]=t[0],i.push(e),o.push(a),r++}),this.lineOptions["series"][0].data=i,this.lineOptions["series"][1].data=o}},destroyed:function(){this.websocket&&(this.websocket.close(),this.websocket=null)}},M=N,S=(a("d4ab"),Object(c["a"])(M,k,C,!1,null,"85c03576",null));S.options.__file="statistics.vue";var A=S.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"child"},[a("div",{staticClass:"header"},[a("Icon",{attrs:{type:"ios-arrow-back",size:30},on:{click:t.back}}),a("span",{staticClass:"folderName"},[t._v(t._s(t.folderName))])],1),a("div",{staticClass:"file-group"},[a("div",{staticClass:"check-all"},[a("Checkbox",{staticClass:"check-box",attrs:{indeterminate:t.indeterminate,value:t.checkAll},nativeOn:{click:function(e){return e.preventDefault(),t.handleCheckAll(e)}}},[a("span",[t._v("所有")])])],1),a("CheckboxGroup",{staticClass:"check-box-group",on:{"on-change":t.checkAllGroupChange},model:{value:t.checkAllGroup,callback:function(e){t.checkAllGroup=e},expression:"checkAllGroup"}},[a("div",{staticClass:"output-files"},[a("div",{staticClass:"header"},[t._v("\n          输出文件\n        ")]),t.outputFiles.length?t._l(t.outputFiles,function(e,s,n){return a("div",{key:n,staticClass:"file-item"},[a("Checkbox",{attrs:{label:e.id}},[a("span",{staticClass:"file-name",attrs:{title:e.value}},[t._v("\n              "+t._s(e.value)+"\n            ")])])],1)}):a("div",{staticClass:"default-page"},[t._v("\n          该文件夹为空\n        ")])],2),a("div",{staticClass:"input-files"},[a("div",{staticClass:"header"},[t._v("\n          输入文件\n        ")]),t.inputFiles.length?t._l(t.inputFiles,function(e,s,n){return a("div",{key:n,staticClass:"file-item"},[a("Checkbox",{attrs:{label:e.id}},[a("span",{staticClass:"file-name",attrs:{title:e.value}},[t._v("\n              "+t._s(e.value)+"\n            ")])])],1)}):a("div",{staticClass:"default-page"},[t._v("\n          该文件夹为空\n        ")])],2)])],1),a("div",{staticClass:"button-option-group"},[a("Button",{staticStyle:{width:"120px","margin-right":"8%"},attrs:{disabled:t.downloadable,type:"success",shape:"circle"},on:{click:t.downHandler}},[t._v("下载")]),a("Button",{staticStyle:{width:"120px"},attrs:{disabled:t.deleteable,type:"error",shape:"circle"},on:{click:t.deleteFileHandler}},[t._v("删除")])],1),a("Modal",{attrs:{"class-name":"vertical-center-modal",width:"260"},model:{value:t.deleteConfirm,callback:function(e){t.deleteConfirm=e},expression:"deleteConfirm"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),a("span",[t._v(" 确定删除 ?")])],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large",long:""},on:{click:t.ok}},[t._v("删除")])],1)])],1)},P=[],E={name:"child",data:function(){return{folderName:"",indeterminate:!1,checkAll:!1,checkAllGroup:[],files:[],selectedFiles:[],deleteConfirm:!1,deleteable:!0,downloadable:!0,inputFiles:[],outputFiles:[],otherFiles:[],allFilesLength:0}},created:function(){var t=this;this.folderName=this.$route.params.fileName,this.$http.post("taskManageChildFolder/childFolder",{fileName:this.folderName}).then(function(e){t.inputFiles=e["data"]["inputFiles"],t.inputFiles=t.inputFiles.map(function(t,e){return{value:t,folder:"input",id:e+"input"}}),t.outputFiles=e["data"]["outputFiles"],t.outputFiles=t.outputFiles.map(function(t,e){return{value:t,folder:"output",id:e+"output"}}),t.allFilesLength=t.inputFiles.length+t.outputFiles.length})},methods:{ok:function(){var t=this;this.deleteConfirm=!1;var e=[];this.selectedFiles.forEach(function(a){t.inputFiles.forEach(function(t){a===t.id&&e.push(t)}),t.outputFiles.forEach(function(t){a===t.id&&e.push(t)})}),this.$http.post("taskManageChildFolder/delete",{folderItems:e,parentFolder:this.folderName}).then(function(e){e=e["data"],e.forEach(function(e){"input"===e.folder?t.inputFiles=t.inputFiles.filter(function(t){return t.id!==e.id}):"output"===e.folder&&(t.outputFiles=t.outputFiles.filter(function(t){return t.id!==e.id}))}),t.$Message.success("成功删除".concat(e.length,"项文件"))})},back:function(){this.$router.push("/app")},cancel:function(){},download:function(t){if(t){var e="".concat(this.BASE_URL,"/taskManageChildFolder/downloads/").concat(t),a=document.createElement("a");a.style.display="none",a.href=e,document.body.appendChild(a),a.click()}},deleteFileHandler:function(){this.deleteConfirm=!0},handleCheckAll:function(){if(this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll){var t=[],e=[];this.inputFiles.length&&(t=this.inputFiles.map(function(t){return t.id})),this.outputFiles.length&&(e=this.outputFiles.map(function(t){return t.id})),this.checkAllGroup=t.concat(e),this.selectedFiles=this.checkAllGroup,this.deleteable=!1,this.downloadable=!1}else this.checkAllGroup=[],this.deleteable=!0,this.downloadable=!0},checkAllGroupChange:function(t){this.selectedFiles=t,t.length===this.allFilesLength?(this.indeterminate=!1,this.checkAll=!0,this.deleteable=!1,this.downloadable=!1):t.length>0?(this.indeterminate=!0,this.checkAll=!1,this.deleteable=!1,this.downloadable=!1):(this.indeterminate=!1,this.checkAll=!1,this.deleteable=!0,this.downloadable=!0)},downHandler:function(){var t=this,e=[];this.selectedFiles.forEach(function(a){t.inputFiles.forEach(function(t){a===t.id&&e.push(t)}),t.outputFiles.forEach(function(t){a===t.id&&e.push(t)})}),this.$http.post("taskManageChildFolder/compressChildFiles",{folderItems:e,parentFolder:this.folderName}).then(function(e){t.download(e["data"])})}}},O=E,D=(a("fca2"),Object(c["a"])(O,T,P,!1,null,null,null));D.options.__file="taskManageChildFolder.vue";var L=D.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"predict"})},U=[],z=(a("118e"),{}),j=Object(c["a"])(z,H,U,!1,null,"baee790e",null);j.options.__file="predict.vue";var I=j.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dataAnalysis"})},R=[],B={name:"dataAnalysis",data:function(){return{}},mounted:function(){var t=$(".mol-container"),e={backgroundColor:"white"},a=$3Dmol.createViewer(t,e);this.$http.get("dataAnalysis/readFile").then(function(t){var e=a;e.addModel(t["data"],"pdb"),e.setStyle({},{cartoon:{color:"spectrum"}}),e.zoomTo(),e.render(),e.zoom(1,1e3)})}},q=B,Y=(a("f9d6"),Object(c["a"])(q,G,R,!1,null,"4ccee3dc",null));Y.options.__file="dataAnalysis.vue";var W=Y.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"protein3D"},[a("div",{staticClass:"header"},[a("Icon",{attrs:{type:"ios-arrow-back",size:30},on:{click:t.back}}),a("span",{staticClass:"folderName"},[t._v(t._s(t.folderName))])],1),a("div",{staticClass:"protein3D-body"},[a("div",{staticClass:"image"},[a("Protein",{directives:[{name:"show",rawName:"v-show",value:t.combo1,expression:"combo1"}],staticClass:"protein",attrs:{data:t.combo1}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.combo1,expression:"!combo1"}],staticClass:"no-content"},[a("span",{staticClass:"text"},[t._v("No Content")])]),a("div",{staticClass:"textName"},[t._v("Combo1")])],1),a("div",{staticClass:"image"},[a("Protein",{directives:[{name:"show",rawName:"v-show",value:t.combo2,expression:"combo2"}],staticClass:"protein",attrs:{data:t.combo2}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.combo2,expression:"!combo2"}],staticClass:"no-content"},[a("span",{staticClass:"text"},[t._v("No Content")])]),a("div",{staticClass:"textName"},[t._v("Combo2")])],1),a("div",{staticClass:"image"},[a("Protein",{directives:[{name:"show",rawName:"v-show",value:t.combo3,expression:"combo3"}],staticClass:"protein",attrs:{data:t.combo3}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.combo3,expression:"!combo3"}],staticClass:"no-content"},[a("span",{staticClass:"text"},[t._v("No Content")])]),a("div",{staticClass:"textName"},[t._v("Combo3")])],1),a("div",{staticClass:"image"},[a("Protein",{directives:[{name:"show",rawName:"v-show",value:t.combo4,expression:"combo4"}],staticClass:"protein border-top",attrs:{data:t.combo4}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.combo4,expression:"!combo4"}],staticClass:"no-content border-top"},[a("span",{staticClass:"text"},[t._v("No Content")])]),a("div",{staticClass:"textName"},[t._v("Combo4")])],1),a("div",{staticClass:"image"},[a("Protein",{directives:[{name:"show",rawName:"v-show",value:t.combo5,expression:"combo5"}],staticClass:"protein border-top",attrs:{data:t.combo5}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.combo5,expression:"!combo5"}],staticClass:"no-content border-top"},[a("span",{staticClass:"text"},[t._v("No Content")])]),a("div",{staticClass:"textName"},[t._v("Combo5")])],1)])])},K=[],V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"mol",staticClass:"mol-container protein"})},Q=[],X={name:"Protein",props:{url:String,data:String},data:function(){return{folderName:"dfads"}},created:function(){this.folderName=this.$route.query.fileName},watch:{data:function(t){var e=this.$refs.mol;e=$(e);var a={backgroundColor:"white"},s=$3Dmol.createViewer(e,a),n=s;n.addModel(t,"pdb"),n.setStyle({},{cartoon:{color:"spectrum"}}),n.zoomTo(),n.render(),n.zoom(1,1e3)}}},Z=X,tt=(a("6de9"),Object(c["a"])(Z,V,Q,!1,null,null,null));tt.options.__file="Protein.vue";var et=tt.exports,at={name:"protein3D",components:{Protein:et},data:function(){return{folderName:"dfads",combo1:"",combo2:"",combo3:"",combo4:"",combo5:""}},created:function(){var t=this;this.folderName=this.$route.query.fileName,this.$http.get("protein3D/readFile/".concat(this.folderName)).then(function(e){200===e["status"]&&(e=e["data"]["data"],t.combo1=e[0]["data"],t.combo2=e[1]["data"],t.combo3=e[2]["data"],t.combo4=e[3]["data"],t.combo5=e[4]["data"])}).catch(function(t){console.log(t)})},mounted:function(){},methods:{back:function(){this.$router.push("/app")}}},st=at,nt=(a("98c7"),Object(c["a"])(st,J,K,!1,null,"9d2a1852",null));nt.options.__file="protein3D.vue";var it=nt.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container"},[a("div",{staticClass:"login"},[a("h1",[t._v("PPMS")]),a("form",{ref:"form",attrs:{method:"post"},on:{submit:t.clickHandler}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],attrs:{type:"text",name:"username",placeholder:"用户名",required:"required"},domProps:{value:t.user},on:{input:function(e){e.target.composing||(t.user=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],attrs:{type:"password",name:"password",placeholder:"密码",required:"required"},domProps:{value:t.pass},on:{input:function(e){e.target.composing||(t.pass=e.target.value)}}}),a("button",{staticClass:"btn-block",attrs:{type:"submit"},on:{click:t.formSubmit}},[t._v("登录")])])])])},rt=[],lt={name:"Login",data:function(){return{user:"",pass:""}},mounted:function(){},methods:{clickHandler:function(t){return t.preventDefault(),!1},formSubmit:function(){var t=this;this.user&&this.pass&&this.$http.post("login",{username:this.user,password:this.pass}).then(function(e){e?(e=e["data"],200===e["code"]&&(sessionStorage.setItem("user",e["data"]),t.$router.push("./app"))):sessionStorage.clear()}).catch(function(t){sessionStorage.clear(),console.error(t)})}}},ct=lt,dt=(a("77f0"),Object(c["a"])(ct,ot,rt,!1,null,"0cdd143a",null));dt.options.__file="login.vue";var ut=dt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}},[a("span",{staticClass:"nav-title"},[t._v("PPMS")]),a("router-link",{staticClass:"link",attrs:{to:"/taskManage"}},[t._v("\n      任务管理\n    ")]),t._v(" |\n    "),a("router-link",{staticClass:"link",attrs:{to:"/statusMonitor"}},[t._v("状态监控")]),t._v(" |\n    "),a("router-link",{staticClass:"link",attrs:{to:"/statistics"}},[t._v("数据统计")]),t._v(" |\n    "),a("div",{staticClass:"user"},[a("Icon",{staticStyle:{"font-size":"40px","margin-right":"5px"},attrs:{type:"ios-contact"}}),t._v(t._s(t.name)+"\n    ")],1)],1),a("router-view")],1)},ht=[],mt={name:"app",data:function(){return{name:"unknow"}},created:function(){this.name=sessionStorage.getItem("user")},destroyed:function(){sessionStorage.clear()}},ft=mt,vt=(a("5c0b"),Object(c["a"])(ft,pt,ht,!1,null,null,null));vt.options.__file="App.vue";var gt=vt.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"option"},[a("div",{staticClass:"option-down"},[a("div",{staticClass:"down-left"},[a("div",{staticClass:"file-group"},[a("div",{staticClass:"check-all"},[a("Checkbox",{staticClass:"check-box",attrs:{indeterminate:t.indeterminate,value:t.checkAll},nativeOn:{click:function(e){return e.preventDefault(),t.handleCheckAll(e)}}},[a("div",{staticClass:"table-header"},[a("span",{staticClass:"check-box-name"},[t._v("名称")]),a("span",[t._v("状态")]),a("span",[t._v("子文件")]),a("span",[t._v("统计图")]),a("span",[t._v("蛋白图")]),a("span",[t._v("文件上传")])])])],1),a("CheckboxGroup",{staticClass:"check-box-group",on:{"on-change":t.checkAllGroupChange},model:{value:t.checkAllGroup,callback:function(e){t.checkAllGroup=e},expression:"checkAllGroup"}},t._l(t.files,function(e,s,n){return a("div",{key:n,staticClass:"file-item"},[a("Checkbox",{attrs:{label:e.name}},[a("div",{staticClass:"table-body",on:{click:t.stopPrevent}},[a("span",{attrs:{title:e.name},on:{click:function(a){t.enterStatusMonitor(e.name)}}},[t._v("\n                  "+t._s(e.name)+"\n                ")]),a("span",[0==e.status?a("Button",{staticClass:"status-button-notstart",attrs:{type:"default",size:"small",shape:"circle"}},[t._v("未开始")]):1==e.status?a("Button",{staticClass:"status-button-running",attrs:{type:"success",size:"small",shape:"circle"}},[t._v("运行中")]):t._e(),2==e.status?a("Button",{staticClass:"status-button-error",attrs:{type:"error",size:"small",shape:"circle"}},[t._v("异常")]):t._e(),3==e.status?a("Button",{staticClass:"status-button-completed",attrs:{type:"warning",size:"small",shape:"circle"}},[t._v("已完成")]):t._e()],1),e.isDirectory?a("span",{on:{click:function(a){t.enterFolder(e.name)}}},[a("Icon",{attrs:{type:"ios-folder-open",size:25}})],1):a("span",{staticClass:"file-text"},[t._v("- -")]),a("span",{on:{click:function(a){t.enterStatistics(e.name)}}},[a("Icon",{attrs:{type:"ios-stats",size:25}})],1),a("span",{on:{click:function(a){t.enterProtein3D(e.name)}}},[a("Icon",{attrs:{type:"ios-appstore-outline",size:25}})],1),a("span",{staticClass:"upload-span"},[a("Upload",{staticStyle:{display:"inline-block",height:"1px"},attrs:{multiple:"","before-upload":t.beforeUploadHandler,"on-progress":t.progressHandler,"on-success":t.successHandler,"show-upload-list":!1,action:t.BASE_URL+"/taskManage/uploadInputfiles/"+e.name}},[a("Button",{staticClass:"single-upload",attrs:{type:"primary",size:"small",icon:"ios-cloud-upload-outline"}})],1)],1)])])],1)}))],1),a("div",{staticClass:"button-option-group"},[a("Button",{staticStyle:{"margin-right":"3%"},attrs:{type:"success",shape:"circle"},on:{click:t.createHandler}},[t._v("创建任务")]),a("Button",{staticStyle:{"margin-right":"3%"},attrs:{disabled:t.downloadable,type:"success",shape:"circle"},on:{click:t.runHandler}},[t._v("执行")]),a("Button",{staticStyle:{"margin-right":"3%"},attrs:{disabled:t.downloadable,type:"success",shape:"circle"},on:{click:t.downHandler}},[t._v("下载")]),a("Button",{staticStyle:{width:"100px","margin-right":"3%"},attrs:{disabled:t.deleteable,type:"error",shape:"circle"},on:{click:t.deleteFileHandler}},[t._v("删除")])],1)])]),a("Modal",{attrs:{"class-name":"vertical-center-modal",width:"260"},model:{value:t.deleteConfirm,callback:function(e){t.deleteConfirm=e},expression:"deleteConfirm"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),a("span",[t._v("确定删除？")])],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large",long:""},on:{click:t.ok}},[t._v("删除")])],1)]),a("Modal",{attrs:{title:"创建蛋白质","class-name":"vertical-center-modal"},on:{"on-cancel":t.cancelCreateProtein,"on-ok":t.createProtein},model:{value:t.createConfirm,callback:function(e){t.createConfirm=e},expression:"createConfirm"}},[a("div",{staticClass:"create-protein"},[a("label",[t._v("蛋白质名称：")]),a("Input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入蛋白质名称"},model:{value:t.proteinName,callback:function(e){t.proteinName=e},expression:"proteinName"}})],1)]),a("Modal",{attrs:{"class-name":"vertical-center-modal",width:"260"},model:{value:t.executeConfirm,callback:function(e){t.executeConfirm=e},expression:"executeConfirm"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),a("span",[t._v(" 您已选"+t._s(this.selectedFiles.length)+"个蛋白，确定执行？")])],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"success",size:"large",long:""},on:{click:t.okExecute}},[t._v("执行")])],1)]),t.isUploadProgress?a("i-circle",{staticClass:"uploadProgress",attrs:{percent:t.percent,"stroke-color":t.color}},[100==t.percent?a("Icon",{staticStyle:{color:"#5cb85c"},attrs:{type:"ios-checkmark",size:"60"}}):a("span",{staticStyle:{"font-size":"24px"}},[t._v(t._s(t.percent)+"%")])],1):t._e()],1)},kt=[],Ct=(a("7f7f"),a("6762"),{name:"TaskManageMain",props:{msg:String},data:function(){return{isDetail:!1,detailContent:"fdsfds",percent:0,isUploadProgress:!1,populationSize:"",backgroundPointSize:"",interationSize:"",indeterminate:!1,checkAll:!1,checkAllGroup:[],files:[],selectedFiles:[],deleteConfirm:!1,deleteable:!0,downloadable:!0,uploadPath:this.BASE_URL+"/taskManage/profile",createConfirm:!1,proteinName:"",executeConfirm:!1}},created:function(){var t=this;this.$http.get("taskManage/readFolder").then(function(e){t.files=e["data"]}),this.websocket=new w["a"](this.SOCKET_URL+":9090","taskManage"),this.websocket.addListener("init",function(e){t.files=e})},mounted:function(){},methods:{stopPrevent:function(t){var e=t.target||t.srcElement;if("file"!==e.type)return t.preventDefault()},enterStatusMonitor:function(t){this.$router.push({path:"taskManage/statusMonitor",query:{fileName:t}})},okExecute:function(){var t=this;this.executeConfirm=!1,this.$http.post("taskManage/excuteTasks",{proteins:this.selectedFiles}).then(function(e){t.$Message.success(e["data"])})},runHandler:function(){this.executeConfirm=!0},enterStatistics:function(t){this.$router.push({path:"taskManage/statistics",query:{fileName:t}})},enterProtein3D:function(t){this.$router.push({path:"taskManage/protein3D",query:{fileName:t}})},enterFolder:function(t){this.$router.push("taskManage/taskManageChildFolder/".concat(t))},cancelCreateProtein:function(){this.proteinName=""},createProtein:function(){var t=this;this.$http.post("taskManage/createProtein",{proteinName:this.proteinName}).then(function(e){console.log(e),t.$Message.success("蛋白质创建成功"),t.files.push(e["data"]),t.proteinName=""})},createHandler:function(){this.createConfirm=!0},ok:function(){var t=this;this.deleteConfirm=!1,this.$http.post("taskManage/delete",{fileName:this.selectedFiles}).then(function(e){var a=e["data"];t.files=t.files.filter(function(t){return!a.includes(t.name)}),t.checkAllGroup=[],t.indeterminate=!1,t.$Message.success("文件删除成功")})},cancel:function(){},download:function(t){if(t){var e="".concat(this.BASE_URL,"/taskManage/uploads/").concat(t),a=document.createElement("a");a.style.display="none",a.href=e,document.body.appendChild(a),a.click()}},deleteFileHandler:function(){this.deleteConfirm=!0},handleCheckAll:function(){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?(this.checkAllGroup=this.files.map(function(t){return t.name}),this.deleteable=!1,this.downloadable=!1):(this.checkAllGroup=[],this.deleteable=!0,this.downloadable=!0)},checkAllGroupChange:function(t){this.selectedFiles=t,t.length===this.files.length?(this.indeterminate=!1,this.checkAll=!0,this.deleteable=!1,this.downloadable=!1):t.length>0?(this.indeterminate=!0,this.checkAll=!1,this.deleteable=!1,this.downloadable=!1):(this.indeterminate=!1,this.checkAll=!1,this.deleteable=!0,this.downloadable=!0)},downHandler:function(){var t=this;this.$http.post("taskManage/compressFiles",{fileName:this.selectedFiles}).then(function(e){t.download(e["data"])})},detailHandler:function(){this.isDetail=!0},closeDetailHandler:function(){this.isDetail=!1},progressHandler:function(t){var e=this;this.percent=+t["percent"].toFixed(),100===this.percent&&setTimeout(function(){e.isUploadProgress=!1},1e3)},successHandler:function(){var t=this;console.log("success"),setTimeout(function(){t.isUploadProgress=!1},1e3)},beforeUploadHandler:function(){this.isUploadProgress=!0,console.log("before")},startHanler:function(){console.log("start"),this.$http.get("taskManage/info").then(function(t){console.log(t.data)}),console.log(this.populationSize),console.log(this.interationSize)},cancelHandler:function(){console.log("cancel"),this.$http.get("http://192.168.1.100:3000/taskManage/uploads/111.doc").then(function(t){console.log(t)})}},computed:{color:function(){var t="#2db7f5";return 100==this.percent&&(t="#5cb85c"),t}}}),_t=Ct,yt=(a("169b"),a("6ed6"),Object(c["a"])(_t,bt,kt,!1,null,"6a3eb8e2",null));yt.options.__file="taskManageMain.vue";var wt=yt.exports,xt=a("3268");s["default"].use(p["a"]);var Ft=new p["a"]({mode:"history",linkActiveClass:"router-link-exact-active",base:"/",routes:[{path:"/",name:"login",component:ut},{path:"/app",component:gt,name:"app",children:[{path:"/",redirect:"/taskManage"},{path:"/taskManage",name:"taskManage",component:b,children:[{path:"",name:"taskManageMain",component:wt},{path:"statusMonitor",name:"statusMonitor",component:xt["default"]},{path:"taskManageChildFolder/:fileName",name:"taskManageChildFolder",component:L},{path:"predict",name:"predict",component:I},{path:"statistics",name:"statistics",component:A},{path:"protein3D",name:"protein3D",component:it}]},{path:"/statusMonitor",name:"statusMonitor",component:function(){return Promise.resolve().then(a.bind(null,"3268"))}},{path:"/statistics",name:"statistics",component:A},{path:"/predict",name:"predict",component:I},{path:"/dataAnalysis",name:"dataAnalysis",component:W}]}]});s["default"].use(o["a"]);var Nt=new o["a"].Store({state:{loading:!0},mutations:{changeLoading:function(t,e){console.log("mutation",e),t.loading=e}},actions:{}}),Mt=a("e069"),St=a.n(Mt),At=(a("dcad"),a("bc3a")),Tt=a.n(At),$t=a("4328"),Pt=a.n($t),Et=a("58a2");s["default"].filter("dateFormatter",function(t,e){t=new Date(t);var a=e,s={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),s){var i=s[n];new RegExp("("+n+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?i:("00"+i).substr((""+i).length)))}return a}),s["default"].use(Et["a"],{highcharts:y.a}),s["default"].use(St.a);var Ot="101.132.73.133";Tt.a.defaults.withCredentials=!0;var Dt=[];Tt.a.interceptors.request.use(function(t){return t.url="http://".concat(Ot,"/").concat(t.url),Dt.push(setTimeout(function(){Nt.commit("changeLoading",!1)},100)),t},function(t){return Promise.reject(t)}),Tt.a.interceptors.response.use(function(t){return clearTimeout(Dt.shift()),Nt.commit("changeLoading",!0),t.data&&401===t.data.code?(Ft.push("/"),!1):t},function(t){return Nt.commit("changeLoading",!0),Promise.reject(t)}),s["default"].prototype.$http=Tt.a,s["default"].prototype.qs=Pt.a,s["default"].prototype.BASE_URL="http://"+Ot,s["default"].prototype.SOCKET_URL=Ot.includes("localhost")?"ws://localhost":"ws://".concat(Ot),s["default"].config.productionTip=!1,Ft.beforeEach(function(t,e,a){"/"===t.path||sessionStorage.getItem("user")?a():a("/")}),new s["default"]({router:Ft,store:Nt,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("2856"),n=a.n(s);n.a},"62b3":function(t,e,a){},"62da":function(t,e,a){},6309:function(t,e,a){},"65b3":function(t,e,a){"use strict";a.d(e,"a",function(){return i});a("4f7f"),a("ac6a"),a("f400");var s=a("c665"),n=a("aa9a"),i=function(){function t(e,a){var n=this;Object(s["a"])(this,t),this.commandToCallbacks=new Map,this.ws=new WebSocket(e),this.connected=!1,this.ws.onopen=function(){n.connected=!1,n.ws.send(JSON.stringify({command:a||"init",data:"init"}))},this.ws.onmessage=function(t){if(t&&t["data"]){t=JSON.parse(t["data"]);var e=t["command"];e&&n.commandToCallbacks.forEach(function(a,s){s==e&&a.forEach(function(e){e(t["data"])})})}},this.ws.onclose=function(){console.log("websocket is closed")},this.ws.onerror=function(){console.log("websocket is error")}}return Object(n["a"])(t,[{key:"addListener",value:function(t,e){this.commandToCallbacks.has(t)?this.commandToCallbacks.get(t).set(e):this.commandToCallbacks.set(t,(new Set).add(e))}},{key:"close",value:function(){this.ws.close()}},{key:"send",value:function(t){var e=this,a=null;a=a(function(){e.connected&&(e.ws.send(t),clearInterval(a))},100)}}]),t}()},"6c53":function(t,e,a){},"6de9":function(t,e,a){"use strict";var s=a("62b3"),n=a.n(s);n.a},"6ed6":function(t,e,a){"use strict";var s=a("4a12"),n=a.n(s);n.a},"77f0":function(t,e,a){"use strict";var s=a("11ef"),n=a.n(s);n.a},"98c7":function(t,e,a){"use strict";var s=a("6c53"),n=a.n(s);n.a},"9c27":function(t,e,a){"use strict";var s=a("6309"),n=a.n(s);n.a},aa50:function(t,e,a){"use strict";var s=a("b699"),n=a.n(s);n.a},b699:function(t,e,a){},c37f:function(t,e,a){},d4ab:function(t,e,a){"use strict";var s=a("c37f"),n=a.n(s);n.a},d844:function(t,e,a){},e4bd:function(t,e,a){},f9d6:function(t,e,a){"use strict";var s=a("d844"),n=a.n(s);n.a},fca2:function(t,e,a){"use strict";var s=a("2d1b"),n=a.n(s);n.a}});
//# sourceMappingURL=app.3fef732f.js.map